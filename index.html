<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Descubra os padrÃµes comportamentais que estÃ£o sabotando suas finanÃ§as. DiagnÃ³stico gratuito baseado em Economia Comportamental.">
    <meta name="keywords" content="finanÃ§as pessoais, planejamento financeiro, dÃ­vidas, economia comportamental">
    <meta property="og:title" content="Planeje Para Viver - DiagnÃ³stico Financeiro Gratuito">
    <meta property="og:description" content="Descubra o que estÃ¡ impedindo vocÃª de sair das dÃ­vidas e comeÃ§ar a poupar">
    <meta property="og:type" content="website">
    <title>Planeje Para Viver - DiagnÃ³stico Financeiro Gratuito</title>
    
    <!-- Google Analytics - SUBSTITUA SEU-ID-AQUI pelo seu ID do GA -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-06KNXKLQ4V"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-06KNXKLQ4V');
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        @media print {
            .no-print { display: none !important; }
            body { background: white !important; }
        }
        
        .leaf-icon {
            display: inline-block;
            animation: grow 2s ease-in-out infinite;
        }
        
        @keyframes grow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-emerald-50 to-teal-50 min-h-screen">
    <div id="app"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        const ShareButton = () => {
            const shareUrl = window.location.href;
            const shareText = "Fiz o diagnÃ³stico financeiro do Planeje Para Viver e descobri padrÃµes que estavam sabotando minhas finanÃ§as! FaÃ§a o seu:";
            
            const handleShare = async () => {
                if (navigator.share) {
                    try {
                        await navigator.share({
                            title: 'Planeje Para Viver - DiagnÃ³stico Financeiro',
                            text: shareText,
                            url: shareUrl
                        });
                    } catch (err) {
                        console.log('Compartilhamento cancelado');
                    }
                } else {
                    // Fallback para copiar link
                    navigator.clipboard.writeText(shareUrl);
                    alert('Link copiado! Compartilhe com seus amigos ðŸŒ¿');
                }
            };

            return (
                <button
                    onClick={handleShare}
                    className="flex items-center gap-2 px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors text-sm"
                >
                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                    </svg>
                    Compartilhar
                </button>
            );
        };

        const DiagnosticApp = () => {
            const [currentSection, setCurrentSection] = useState(0);
            const [answers, setAnswers] = useState({});
            const [showResults, setShowResults] = useState(false);
            const [emailSent, setEmailSent] = useState(false);
            const [userEmail, setUserEmail] = useState('');

            const generatePDF = () => {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                const results = calculateResults();
                const overallScore = Object.values(results).reduce((sum, r) => sum + r.score, 0) / Object.keys(results).length;
                
                let yPos = 20;
                
                // Header
                doc.setFontSize(20);
                doc.setTextColor(16, 185, 129);
                doc.text('ðŸŒ¿ Planeje Para Viver', 105, yPos, { align: 'center' });
                
                yPos += 10;
                doc.setFontSize(14);
                doc.setTextColor(0, 0, 0);
                doc.text('DiagnÃ³stico de FinanÃ§as Comportamentais', 105, yPos, { align: 'center' });
                
                yPos += 15;
                doc.setFontSize(12);
                doc.text(`Data: ${new Date().toLocaleDateString('pt-BR')}`, 105, yPos, { align: 'center' });
                
                // Score Geral
                yPos += 15;
                doc.setFillColor(16, 185, 129);
                doc.rect(15, yPos - 5, 180, 25, 'F');
                doc.setTextColor(255, 255, 255);
                doc.setFontSize(14);
                doc.text('SCORE GERAL DE COMPORTAMENTO FINANCEIRO', 105, yPos + 3, { align: 'center' });
                doc.setFontSize(24);
                doc.text(`${overallScore.toFixed(1)}/5.0`, 105, yPos + 13, { align: 'center' });
                
                yPos += 30;
                doc.setTextColor(0, 0, 0);
                doc.setFontSize(10);
                const interpretation = overallScore >= 4 ? 'Muitos padrÃµes prejudicando suas finanÃ§as' : 
                                     overallScore >= 3 ? 'Alguns comportamentos para melhorar' : 
                                     'Bom controle dos comportamentos financeiros';
                doc.text(interpretation, 105, yPos, { align: 'center' });
                
                // Resultados por ViÃ©s
                yPos += 15;
                doc.setFontSize(12);
                doc.setTextColor(0, 0, 0);
                
                Object.entries(results).forEach(([biasId, data]) => {
                    if (yPos > 250) {
                        doc.addPage();
                        yPos = 20;
                    }
                    
                    // TÃ­tulo do viÃ©s
                    doc.setFontSize(12);
                    doc.setFont(undefined, 'bold');
                    doc.text(`${data.icon} ${data.title}`, 15, yPos);
                    
                    // Badge do nÃ­vel
                    const badgeColor = data.level === 'Alto' ? [239, 68, 68] : 
                                      data.level === 'Moderado' ? [234, 179, 8] : 
                                      [34, 197, 94];
                    doc.setFillColor(...badgeColor);
                    doc.roundedRect(160, yPos - 4, 30, 6, 2, 2, 'F');
                    doc.setTextColor(255, 255, 255);
                    doc.setFontSize(9);
                    doc.text(data.level, 175, yPos, { align: 'center' });
                    
                    yPos += 7;
                    doc.setTextColor(100, 100, 100);
                    doc.setFontSize(9);
                    doc.setFont(undefined, 'normal');
                    const descLines = doc.splitTextToSize(data.description, 180);
                    doc.text(descLines, 15, yPos);
                    yPos += descLines.length * 5;
                    
                    // Score
                    yPos += 3;
                    doc.setTextColor(0, 0, 0);
                    doc.text(`Score: ${data.score.toFixed(1)}/5.0`, 15, yPos);
                    
                    // RecomendaÃ§Ãµes
                    yPos += 8;
                    doc.setFont(undefined, 'bold');
                    doc.text('AÃ§Ãµes PrÃ¡ticas:', 15, yPos);
                    doc.setFont(undefined, 'normal');
                    
                    const recs = getRecommendations(biasId, data.level);
                    recs.forEach((rec, idx) => {
                        yPos += 6;
                        if (yPos > 270) {
                            doc.addPage();
                            yPos = 20;
                        }
                        const recLines = doc.splitTextToSize(`${idx + 1}. ${rec}`, 175);
                        doc.text(recLines, 20, yPos);
                        yPos += (recLines.length - 1) * 5;
                    });
                    
                    yPos += 10;
                    doc.setDrawColor(200, 200, 200);
                    doc.line(15, yPos, 195, yPos);
                    yPos += 8;
                });
                
                // RodapÃ©
                if (yPos > 240) {
                    doc.addPage();
                    yPos = 20;
                }
                
                yPos += 10;
                doc.setFillColor(240, 253, 244);
                doc.rect(15, yPos - 5, 180, 35, 'F');
                doc.setTextColor(0, 0, 0);
                doc.setFontSize(10);
                doc.setFont(undefined, 'bold');
                doc.text('Por Onde ComeÃ§ar?', 20, yPos + 3);
                doc.setFont(undefined, 'normal');
                doc.setFontSize(9);
                const steps = [
                    '1. Escolha o comportamento com maior score',
                    '2. Implemente APENAS 1 recomendaÃ§Ã£o esta semana',
                    '3. Anote os resultados por 7 dias',
                    '4. RefaÃ§a este teste em 2 meses'
                ];
                steps.forEach((step, idx) => {
                    doc.text(step, 20, yPos + 10 + (idx * 5));
                });
                
                // Footer final
                const totalPages = doc.internal.pages.length - 1;
                for (let i = 1; i <= totalPages; i++) {
                    doc.setPage(i);
                    doc.setFontSize(8);
                    doc.setTextColor(150, 150, 150);
                    doc.text('DiagnÃ³stico criado por Mara Alves | ðŸŒ¿ Planeje para viver', 105, 285, { align: 'center' });
                    doc.text('"NÃ£o sobreviva. Viva."', 105, 290, { align: 'center' });
                }
                
                doc.save(`Diagnostico-Planeje-Para-Viver-${new Date().toLocaleDateString('pt-BR').replace(/\//g, '-')}.pdf`);
            };

            const sections = [
                {
                    id: 'aversao-perda',
                    title: 'AversÃ£o Ã  Perda',
                    icon: 'âš ï¸',
                    description: 'Dificuldade de abrir mÃ£o de coisas, mesmo quando prejudicam suas finanÃ§as',
                    questions: [
                        {
                            id: 'q1',
                            text: 'VocÃª tem assinaturas (streaming, academia, apps) que nÃ£o usa, mas nÃ£o cancela?',
                            options: [
                                { value: 5, label: 'Sim, vÃ¡rias. Fico pensando "e se eu precisar?"' },
                                { value: 4, label: 'Sim, algumas. Sempre deixo para cancelar depois' },
                                { value: 3, label: 'Tenho uma ou duas que nÃ£o uso muito' },
                                { value: 2, label: 'Raramente mantenho algo que nÃ£o uso' },
                                { value: 1, label: 'Cancelo imediatamente o que nÃ£o uso' }
                            ]
                        },
                        {
                            id: 'q2',
                            text: 'Como vocÃª se sente ao pensar em reduzir um gasto que estÃ¡ acostumado (ex: delivery, cafÃ©zinho)?',
                            options: [
                                { value: 5, label: 'Muito difÃ­cil, sinto que estou perdendo qualidade de vida' },
                                { value: 4, label: 'DesconfortÃ¡vel, prefiro cortar outras coisas' },
                                { value: 3, label: 'Depende do quanto preciso economizar' },
                                { value: 2, label: 'Consigo abrir mÃ£o sem grandes problemas' },
                                { value: 1, label: 'Vejo como uma escolha racional, nÃ£o como perda' }
                            ]
                        },
                        {
                            id: 'q3',
                            text: 'VocÃª evita olhar suas dÃ­vidas ou saldo bancÃ¡rio quando sabe que a situaÃ§Ã£o estÃ¡ ruim?',
                            options: [
                                { value: 5, label: 'Sim, sempre. Me dÃ¡ ansiedade sÃ³ de pensar' },
                                { value: 4, label: 'Frequentemente evito conferir' },
                                { value: 3, label: 'Ã€s vezes postergo para nÃ£o me estressar' },
                                { value: 2, label: 'Raramente evito, mas acontece' },
                                { value: 1, label: 'NÃ£o, encaro a realidade para resolver' }
                            ]
                        }
                    ]
                },
                {
                    id: 'excesso-confianca',
                    title: 'Excesso de ConfianÃ§a',
                    icon: 'ðŸ“ˆ',
                    description: 'Subestimar gastos e superestimar sua capacidade de controle financeiro',
                    questions: [
                        {
                            id: 'q4',
                            text: 'Quando vocÃª faz uma compra parcelada, como pensa sobre o pagamento futuro?',
                            options: [
                                { value: 5, label: '"MÃªs que vem dou um jeito", sempre acho que vai sobrar' },
                                { value: 4, label: 'Confio que vou conseguir pagar, mas nem sempre sobra' },
                                { value: 3, label: 'Fico um pouco preocupado, mas geralmente dÃ¡ certo' },
                                { value: 2, label: 'Calculo antes se realmente cabe no orÃ§amento' },
                                { value: 1, label: 'SÃ³ parcelo se tenho certeza absoluta que posso pagar' }
                            ]
                        },
                        {
                            id: 'q5',
                            text: 'No inÃ­cio do mÃªs, vocÃª costuma pensar:',
                            options: [
                                { value: 5, label: '"Este mÃªs vai sobrar dinheiro!" (mas nunca sobra)' },
                                { value: 4, label: '"Vou conseguir economizar" (mas surgem imprevistos)' },
                                { value: 3, label: 'Nem muito otimista, nem pessimista' },
                                { value: 2, label: 'JÃ¡ espero que seja apertado' },
                                { value: 1, label: 'Planejo realisticamente com base nos meses anteriores' }
                            ]
                        },
                        {
                            id: 'q6',
                            text: 'Gastos pequenos do dia-a-dia (lanche, Uber, apps) na sua percepÃ§Ã£o:',
                            options: [
                                { value: 5, label: 'NÃ£o fazem diferenÃ§a, sÃ£o sÃ³ "trocos"' },
                                { value: 4, label: 'Impactam pouco, nÃ£o me preocupo muito' },
                                { value: 3, label: 'Sei que somam, mas nÃ£o controlo rigorosamente' },
                                { value: 2, label: 'Tento controlar, pois sei que pesam' },
                                { value: 1, label: 'Registro tudo, sei exatamente quanto gasto' }
                            ]
                        }
                    ]
                },
                {
                    id: 'ancoragem',
                    title: 'Ancoragem',
                    icon: 'ðŸŽ¯',
                    description: 'Basear decisÃµes em referÃªncias erradas ou irrelevantes',
                    questions: [
                        {
                            id: 'q7',
                            text: 'Ao ver uma promoÃ§Ã£o "De R$ 500 por R$ 300", vocÃª pensa:',
                            options: [
                                { value: 5, label: 'Ã‰ uma pechincha! Estou economizando R$ 200!' },
                                { value: 4, label: 'Bom desconto, vale a pena comprar' },
                                { value: 3, label: 'Considero o desconto, mas tambÃ©m se preciso' },
                                { value: 2, label: 'Questiono se realmente vale R$ 500' },
                                { value: 1, label: 'Ignoro o "De-Por", avalio se vale R$ 300' }
                            ]
                        },
                        {
                            id: 'q8',
                            text: 'Seu padrÃ£o de gastos Ã© influenciado pelo quanto seus amigos/famÃ­lia gastam?',
                            options: [
                                { value: 5, label: 'Muito. "Se eles podem, eu tambÃ©m posso"' },
                                { value: 4, label: 'Bastante. Me sinto mal gastando muito menos' },
                                { value: 3, label: 'Um pouco, mas tento nÃ£o comparar' },
                                { value: 2, label: 'Pouco, cada um tem sua realidade' },
                                { value: 1, label: 'NÃ£o, vivo minha realidade financeira' }
                            ]
                        },
                        {
                            id: 'q9',
                            text: 'VocÃª define quanto pode gastar em algo baseado em:',
                            options: [
                                { value: 5, label: 'O que gastei antes na mesma coisa' },
                                { value: 4, label: 'O que as pessoas normalmente gastam nisso' },
                                { value: 3, label: 'Uma mistura de referÃªncias e condiÃ§Ãµes atuais' },
                                { value: 2, label: 'Principalmente no meu orÃ§amento atual' },
                                { value: 1, label: 'SÃ³ no que posso pagar SEM comprometer outras Ã¡reas' }
                            ]
                        }
                    ]
                },
                {
                    id: 'efeito-manada',
                    title: 'Efeito Manada',
                    icon: 'ðŸ›’',
                    description: 'Consumir influenciado pelo que outros fazem, nÃ£o pela sua necessidade',
                    questions: [
                        {
                            id: 'q10',
                            text: 'Quando todos estÃ£o comprando algo (novo celular, roupa da moda), vocÃª:',
                            options: [
                                { value: 5, label: 'Sinto urgÃªncia de comprar tambÃ©m, senÃ£o fico para trÃ¡s' },
                                { value: 4, label: 'Fico tentado e geralmente acabo comprando' },
                                { value: 3, label: 'Considero, mas nÃ£o sempre compro' },
                                { value: 2, label: 'Raramente me influencio' },
                                { value: 1, label: 'SÃ³ compro se realmente precisar, independente dos outros' }
                            ]
                        },
                        {
                            id: 'q11',
                            text: 'Suas decisÃµes de parcelar compras sÃ£o influenciadas por:',
                            options: [
                                { value: 5, label: '"Todo mundo parcela, Ã© normal"' },
                                { value: 4, label: 'Ver amigos parcelando me deixa mais confortÃ¡vel' },
                                { value: 3, label: 'Parcelo quando vejo que Ã© comum' },
                                { value: 2, label: 'Decido independente do que outros fazem' },
                                { value: 1, label: 'Evito parcelar, mesmo que seja comum' }
                            ]
                        },
                        {
                            id: 'q12',
                            text: 'Em grupos (famÃ­lia, amigos), quando decidem ir a um restaurante caro:',
                            options: [
                                { value: 5, label: 'Vou junto mesmo sem condiÃ§Ãµes, "depois vejo"' },
                                { value: 4, label: 'Vou e me preocupo depois com o cartÃ£o' },
                                { value: 3, label: 'Vou, mas fico desconfortÃ¡vel' },
                                { value: 2, label: 'Sugiro alternativas mais baratas' },
                                { value: 1, label: 'Declino educadamente se nÃ£o cabe no orÃ§amento' }
                            ]
                        }
                    ]
                },
                {
                    id: 'contabilidade-mental',
                    title: 'Contabilidade Mental',
                    icon: 'ðŸ’°',
                    description: 'Tratar dinheiro de forma diferente dependendo da origem ou destino',
                    questions: [
                        {
                            id: 'q13',
                            text: 'Dinheiro "extra" (13Âº, bÃ´nus, presente) Ã© tratado diferente do salÃ¡rio?',
                            options: [
                                { value: 5, label: 'Sim! Ã‰ "dinheiro extra", posso gastar Ã  vontade' },
                                { value: 4, label: 'Geralmente gasto mais facilmente' },
                                { value: 3, label: 'Ã€s vezes uso para "me dar um presente"' },
                                { value: 2, label: 'Tento usar com responsabilidade' },
                                { value: 1, label: 'Trato igual ao salÃ¡rio, vai para as prioridades' }
                            ]
                        },
                        {
                            id: 'q14',
                            text: 'VocÃª divide mentalmente o salÃ¡rio em "caixinhas" (aluguel, comida, lazer)?',
                            options: [
                                { value: 5, label: 'Sim, e gasto cada caixinha atÃ© o fim' },
                                { value: 4, label: 'Sim, e raramente economizo de uma caixinha' },
                                { value: 3, label: 'Sim, mas Ã s vezes transfiro entre caixinhas' },
                                { value: 2, label: 'FaÃ§o isso, mas com flexibilidade' },
                                { value: 1, label: 'Vejo todo dinheiro disponÃ­vel como um montante Ãºnico' }
                            ]
                        },
                        {
                            id: 'q15',
                            text: 'Ao economizar em uma Ã¡rea (ex: cozinhar em casa), vocÃª:',
                            options: [
                                { value: 5, label: 'Sente que "merece" gastar o que economizou em outra coisa' },
                                { value: 4, label: 'Frequentemente gasto a economia em algo' },
                                { value: 3, label: 'Ã€s vezes uso como "permissÃ£o" para outro gasto' },
                                { value: 2, label: 'Raramente penso assim' },
                                { value: 1, label: 'A economia vira poupanÃ§a, nÃ£o outro gasto' }
                            ]
                        }
                    ]
                }
            ];

            const getRecommendations = (biasId, level) => {
                const recs = {
                    'aversao-perda': {
                        'Alto': [
                            'Liste todas assinaturas e cancele HOJE as que nÃ£o usou no Ãºltimo mÃªs',
                            'Use a regra: "Compraria de novo se nÃ£o tivesse?" Se nÃ£o, cancele',
                            'Reserve 1 dia por mÃªs para revisar gastos recorrentes sem peso emocional',
                            'Encare sua situaÃ§Ã£o financeira: anote TODAS as dÃ­vidas num papel'
                        ],
                        'Moderado': [
                            'FaÃ§a revisÃ£o trimestral de assinaturas e serviÃ§os',
                            'Antes de manter algo, pergunte: "Isto me aproxima dos meus objetivos?"',
                            'Configure alertas no banco para acompanhar saldo semanalmente'
                        ],
                        'Baixo': [
                            'Continue sua abordagem racional',
                            'Mantenha o hÃ¡bito de revisar gastos regularmente'
                        ]
                    },
                    'excesso-confianca': {
                        'Alto': [
                            'PROIBIÃ‡ÃƒO de 30 dias: ZERO parcelamento novo. SÃ³ Ã  vista',
                            'Anote HOJE quanto gastou nos Ãºltimos 3 meses (real, nÃ£o estimado)',
                            'Calcule: some TODAS as parcelas que vai pagar nos prÃ³ximos 12 meses',
                            'Use app de controle (GuiaBolso, Mobills) - precisa de dados reais'
                        ],
                        'Moderado': [
                            'Registre gastos por 1 semana - vai se surpreender com o total',
                            'Antes de parcelar, calcule: parcela Ã— meses = valor real',
                            'Questione seu "vai dar certo" com base no que aconteceu mÃªs passado'
                        ],
                        'Baixo': [
                            'Sua consciÃªncia financeira Ã© um diferencial',
                            'Continue registrando e planejando com base em dados reais'
                        ]
                    },
                    'ancoragem': {
                        'Alto': [
                            'Em promoÃ§Ãµes, pergunte: "Eu PRECISO disto? Compraria sem promoÃ§Ã£o?"',
                            'Bloqueie por 30 dias as lojas que mais te fazem gastar',
                            'Antes de qualquer compra, pesquise 3 preÃ§os',
                            'Crie SEU padrÃ£o de gastos baseado na SUA renda'
                        ],
                        'Moderado': [
                            'Evite "vitrines" quando nÃ£o precisa comprar nada',
                            'Compare com sua capacidade de pagamento, nÃ£o com preÃ§os antigos',
                            'Lembre-se: economia sÃ³ Ã© economia se vocÃª ia comprar de qualquer forma'
                        ],
                        'Baixo': [
                            'Continue avaliando valor real, nÃ£o preÃ§os de referÃªncia',
                            'Sua independÃªncia de pensamento Ã© valiosa'
                        ]
                    },
                    'efeito-manada': {
                        'Alto': [
                            'Teste dos 30 dias: quando quiser algo que "todo mundo tem", espere 30 dias',
                            'Silencie stories de consumo nas redes sociais por 30 dias',
                            'Pratique dizer: "NÃ£o cabe no meu orÃ§amento agora" sem vergonha',
                            'Liste 3 coisas que comprou porque "todo mundo tinha" e se arrependeu'
                        ],
                        'Moderado': [
                            'Questione: "Eu quero ou todo mundo quer?"',
                            'Crie orÃ§amento ANTES de sair com amigos',
                            'Sugira programas gratuitos com frequÃªncia'
                        ],
                        'Baixo': [
                            'Sua independÃªncia financeira Ã© admirÃ¡vel',
                            'Continue priorizando suas necessidades sobre pressÃµes sociais'
                        ]
                    },
                    'contabilidade-mental': {
                        'Alto': [
                            'Regra nova: 13Âº e bÃ´nus vÃ£o PRIMEIRO para dÃ­vidas/reserva',
                            'Unifique visÃ£o: abra planilha e coloque TODO seu dinheiro junto',
                            'Economizou R$ 50? Vai para a reserva, nÃ£o para "recompensa"',
                            'Dinheiro Ã© dinheiro, nÃ£o importa de onde veio'
                        ],
                        'Moderado': [
                            'Quando receber dinheiro extra, durma 1 noite antes de decidir',
                            'Economias devem virar poupanÃ§a, nÃ£o permissÃ£o para gastar',
                            'Simplifique: tenha 1 visÃ£o, nÃ£o vÃ¡rias "caixinhas" mentais'
                        ],
                        'Baixo': [
                            'Sua visÃ£o integrada das finanÃ§as Ã© um diferencial',
                            'Continue tratando todo dinheiro com o mesmo critÃ©rio'
                        ]
                    }
                };
                return recs[biasId]?.[level] || [];
            };

            const calculateResults = () => {
                const biasScores = {};
                sections.forEach(section => {
                    const sectionAnswers = section.questions
                        .map(q => answers[q.id] || 0)
                        .filter(val => val > 0);
                    
                    if (sectionAnswers.length > 0) {
                        const avgScore = sectionAnswers.reduce((a, b) => a + b, 0) / sectionAnswers.length;
                        biasScores[section.id] = {
                            score: avgScore,
                            title: section.title,
                            icon: section.icon,
                            description: section.description,
                            level: avgScore >= 4 ? 'Alto' : avgScore >= 3 ? 'Moderado' : 'Baixo',
                            color: avgScore >= 4 ? 'bg-red-500' : avgScore >= 3 ? 'bg-yellow-500' : 'bg-green-500'
                        };
                    }
                });
                return biasScores;
            };

            const handleAnswer = (questionId, value) => {
                setAnswers(prev => ({...prev, [questionId]: value}));
            };

            const handleEmailSubmit = (e) => {
                e.preventDefault();
                if (!userEmail) return;
                
                const results = calculateResults();
                const resultText = Object.entries(results)
                    .map(([id, data]) => `${data.title}: ${data.score.toFixed(1)}/5.0 (${data.level})`)
                    .join('\n');
                
                // Usando FormSubmit - VOCÃŠ PRECISA TROCAR SEU-EMAIL@EXAMPLE.COM
                const form = e.target;
                form.submit();
                setEmailSent(true);
            };

            const currentSectionData = sections[currentSection];
            const progress = ((currentSection + 1) / sections.length) * 100;
            const allQuestionsAnswered = currentSectionData?.questions.every(q => answers[q.id]);

            if (showResults) {
                const results = calculateResults();
                const overallScore = Object.values(results).reduce((sum, r) => sum + r.score, 0) / Object.keys(results).length;

                return (
                    <div className="min-h-screen bg-gradient-to-br from-emerald-50 to-teal-100 p-4 md:p-8">
                        <div className="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-8">
                            {/* Header */}
                            <div className="text-center mb-8">
                                <div className="text-6xl mb-4 leaf-icon">ðŸŒ¿</div>
                                <h1 className="text-3xl md:text-4xl font-bold text-gray-800 mb-2">
                                    Seu DiagnÃ³stico EstÃ¡ Pronto!
                                </h1>
                                <p className="text-gray-600">Entenda seus padrÃµes de comportamento financeiro</p>
                            </div>

                            {/* Score Geral */}
                            <div className="mb-8 p-6 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl text-white">
                                <h3 className="text-xl font-semibold mb-2">Score de Comportamento Financeiro</h3>
                                <div className="flex items-center justify-between flex-wrap gap-4">
                                    <div className="text-5xl font-bold">{overallScore.toFixed(1)}/5.0</div>
                                    <div className="text-right">
                                        <p className="text-sm opacity-90">
                                            {overallScore >= 4 ? 'Muitos padrÃµes prejudicando suas finanÃ§as' : 
                                             overallScore >= 3 ? 'Alguns comportamentos para melhorar' : 
                                             'Bom controle dos comportamentos financeiros'}
                                        </p>
                                        <p className="text-xs opacity-75 mt-1">
                                            Quanto menor o score, melhor seu controle
                                        </p>
                                    </div>
                                </div>
                            </div>

                            {/* Resultados por ViÃ©s */}
                            <div className="space-y-6 mb-8">
                                {Object.entries(results).map(([biasId, data]) => (
                                    <div key={biasId} className="border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                                        <div className="flex items-start justify-between mb-4 flex-wrap gap-4">
                                            <div className="flex items-start gap-3">
                                                <span className="text-3xl">{data.icon}</span>
                                                <div>
                                                    <h3 className="text-xl font-bold text-gray-800 mb-1">{data.title}</h3>
                                                    <p className="text-sm text-gray-600">{data.description}</p>
                                                </div>
                                            </div>
                                            <span className={`${data.color} text-white px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap`}>
                                                {data.level}
                                            </span>
                                        </div>

                                        <div className="mb-4">
                                            <div className="flex justify-between text-sm text-gray-600 mb-1">
                                                <span>Impacto no seu dia-a-dia</span>
                                                <span>{data.score.toFixed(1)}/5.0</span>
                                            </div>
                                            <div className="w-full bg-gray-200 rounded-full h-3">
                                                <div 
                                                    className={`${data.color} h-3 rounded-full transition-all duration-500`}
                                                    style={{ width: `${(data.score / 5) * 100}%` }}
                                                />
                                            </div>
                                        </div>

                                        <div className="bg-emerald-50 rounded-lg p-4">
                                            <h4 className="font-semibold text-gray-800 mb-3 flex items-center">
                                                <span className="mr-2">ðŸŽ¯</span>
                                                AÃ§Ãµes PrÃ¡ticas para VocÃª
                                            </h4>
                                            <ul className="space-y-2">
                                                {getRecommendations(biasId, data.level).map((rec, idx) => (
                                                    <li key={idx} className="flex items-start text-sm text-gray-700">
                                                        <span className="text-emerald-600 mr-2 font-bold">â†’</span>
                                                        <span>{rec}</span>
                                                    </li>
                                                ))}
                                            </ul>
                                        </div>
                                    </div>
                                ))}
                            </div>

                            {/* PrÃ³ximos Passos */}
                            <div className="bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 rounded-lg p-6 mb-8">
                                <h3 className="font-bold text-gray-800 mb-3 flex items-center">
                                    <span className="mr-2">ðŸ’¡</span>
                                    Por Onde ComeÃ§ar?
                                </h3>
                                <ol className="list-decimal list-inside space-y-2 text-gray-700">
                                    <li>Escolha o comportamento com maior score (seu maior desafio)</li>
                                    <li>Implemente APENAS 1 recomendaÃ§Ã£o esta semana</li>
                                    <li>Anote os resultados por 7 dias</li>
                                    <li>Na prÃ³xima semana, adicione mais 1 recomendaÃ§Ã£o</li>
                                    <li>RefaÃ§a este teste em 2 meses para ver sua evoluÃ§Ã£o</li>
                                </ol>
                            </div>
  <!--
                          {/* Captura de Email Opcional */}
                            {!emailSent ? (
                                <div className="bg-white border-2 border-emerald-200 rounded-xl p-6 mb-6">
                                    <h3 className="font-bold text-gray-800 mb-2 flex items-center">
                                        <span className="mr-2">ðŸ“§</span>
                                        Quer receber uma cÃ³pia por email?
                                    </h3>
                                    <p className="text-sm text-gray-600 mb-4">
                                        Vou te enviar o resumo completo + dicas extras + materiais de educaÃ§Ã£o financeira
                                    </p>
                                    <form 
                                        action="https://formsubmit.co/SEU-EMAIL@EXAMPLE.COM" 
                                        method="POST"
                                        target="_blank"
                                        onSubmit={handleEmailSubmit}
                                        className="flex gap-3 flex-wrap"
                                    >
                                        <input type="hidden" name="_subject" value="Novo DiagnÃ³stico - Planeje Para Viver" />
                                        <input type="hidden" name="_template" value="table" />
                                        <input type="hidden" name="_captcha" value="false" />
                                        <input type="hidden" name="_next" value={window.location.href} />
                                        <input 
                                            type="email" 
                                            name="email"
                                            value={userEmail}
                                            onChange={(e) => setUserEmail(e.target.value)}
                                            placeholder="seu-email@exemplo.com"
                                            required
                                            className="flex-1 min-w-[200px] px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-emerald-500 focus:outline-none"
                                        />
                                        <textarea 
                                            name="resultados" 
                                            value={`Score Geral: ${overallScore.toFixed(1)}/5.0\n\n` + Object.entries(results).map(([id, data]) => `${data.icon} ${data.title}: ${data.score.toFixed(1)}/5.0 (${data.level})`).join('\n')}
                                            hidden
                                        />
                                        <button 
                                            type="submit"
                                            className="px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-semibold"
                                        >
                                            Enviar CÃ³pia
                                        </button>
                                    </form>
                                </div>
                            ) : (
                                <div className="bg-green-50 border-2 border-green-200 rounded-xl p-6 mb-6 text-center">
                                    <span className="text-4xl mb-2 block">âœ…</span>
                                    <p className="font-semibold text-gray-800">Email enviado com sucesso!</p>
                                    <p className="text-sm text-gray-600">Verifique sua caixa de entrada</p>
                                </div>
                            )} 
      -->

                            {/* CTA Final */}
                            <div className="bg-gradient-to-r from-teal-50 to-emerald-50 rounded-xl p-6 mb-6 text-center">
                                <h3 className="text-xl font-bold text-gray-800 mb-2">
                                    Gostou do diagnÃ³stico?
                                </h3>
                                <p className="text-gray-600 mb-4">
                                    Quer ajuda personalizada para transformar esses insights em aÃ§Ãµes concretas?
                                </p>
                                <div className="flex gap-3 justify-center flex-wrap">
                                    {/* SUBSTITUA OS LINKS ABAIXO PELOS SEUS */}
                                    <a 
                                        href="https://wa.me/5585999999999?text=OlÃ¡!%20Fiz%20o%20diagnÃ³stico%20e%20gostaria%20de%20saber%20mais" 
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        className="px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-semibold"
                                    >
                                        ðŸ’¬ Entre em Contato
                                    </a>
                                    <button 
                                        onClick={generatePDF}
                                        className="px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-semibold"
                                    >
                                        ðŸ“„ Baixar PDF
                                    </button>
                                </div>
                            </div>

                            {/* BotÃµes AÃ§Ã£o */}
                            <div className="flex gap-4 justify-center flex-wrap no-print">
                                <button
                                    onClick={() => {
                                        setShowResults(false);
                                        setCurrentSection(0);
                                        setAnswers({});
                                        setEmailSent(false);
                                        setUserEmail('');
                                        window.scrollTo(0, 0);
                                    }}
                                    className="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-semibold"
                                >
                                    â†» Refazer Teste
                                </button>
                                <ShareButton />
                            </div>

                            {/* Footer */}
                            <div className="mt-12 pt-8 border-t border-gray-200 text-center">
                                <div className="text-2xl mb-3">ðŸŒ¿</div>
                                <p className="text-xl font-bold text-gray-800 mb-1">
                                     "Planeje para viver o que realmente importa"
                                </p>
                                <p className="text-sm text-gray-600 mb-4">
                                    DiagnÃ³stico criado por <strong>Mara Alves</strong><br />
                                    ðŸŒ¿ Planeje para viver â€” FinanÃ§as Pessoais & Planejamento
                                </p>
                                <div className="flex gap-6 justify-center items-center flex-wrap text-sm text-gray-600">
                                    <a href="https://wa.me/5585999999999" target="_blank" rel="noopener noreferrer" className="hover:text-emerald-600 transition-colors">
                                        ðŸ“± WhatsApp
                                    </a>
                                    <a href="mailto:maraalves.ftg@gmail.com" className="hover:text-emerald-600 transition-colors">
                                        ðŸ“§ Email
                                    </a>
                                    <a href="https://instagram.com/maraalv3s" target="_blank" rel="noopener noreferrer" className="hover:text-emerald-600 transition-colors">
                                        ðŸ“· Instagram
                                    </a>
                                </div>
                                <p className="text-xs text-gray-500 mt-4">
                                    Â© 2025 Planeje Para Viver â€¢ Baseado em pesquisas de Daniel Kahneman e Richard Thaler
                                </p>
                            </div>
                        </div>
                    </div>
                );
            }

            // Tela de QuestÃµes
            return (
                <div className="min-h-screen bg-gradient-to-br from-emerald-50 to-teal-100 p-4 md:p-8">
                    <div className="max-w-3xl mx-auto">
                        <div className="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6">
                            {/* Header */}
                            <div className="text-center mb-8">
                                <div className="text-5xl mb-4 leaf-icon">ðŸŒ¿</div>
                                <h1 className="text-3xl md:text-4xl font-bold text-gray-800 mb-2">
                                    Planeje Para Viver
                                </h1>
                                <h2 className="text-xl md:text-2xl font-semibold text-emerald-600 mb-4">
                                    Descubra O Que EstÃ¡ Sabotando Suas FinanÃ§as
                                </h2>
                                <p className="text-gray-600 max-w-2xl mx-auto">
                                    Este teste identifica os comportamentos inconscientes que estÃ£o impedindo vocÃª de sair das dÃ­vidas, 
                                    economizar e construir sua reserva de emergÃªncia.
                                </p>
                            </div>

                            {/* Progress */}
                            <div className="mb-8">
                                <div className="flex justify-between text-sm text-gray-600 mb-2">
                                    <span>SeÃ§Ã£o {currentSection + 1} de {sections.length}</span>
                                    <span>{Math.round(progress)}% completo</span>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-3">
                                    <div 
                                        className="bg-emerald-600 h-3 rounded-full transition-all duration-300"
                                        style={{ width: `${progress}%` }}
                                    />
                                </div>
                            </div>

                            {/* Current Section */}
                            <div className="mb-8">
                                <div className="flex items-center mb-4 gap-4">
                                    <div className="text-4xl">{currentSectionData.icon}</div>
                                    <div>
                                        <h2 className="text-2xl font-bold text-gray-800">{currentSectionData.title}</h2>
                                        <p className="text-gray-600 mt-1">{currentSectionData.description}</p>
                                    </div>
                                </div>
                            </div>

                            {/* Questions */}
                            <div className="space-y-8">
                                {currentSectionData.questions.map((question, qIndex) => (
                                    <div key={question.id} className="bg-gray-50 rounded-xl p-6">
                                        <h3 className="text-lg font-semibold text-gray-800 mb-4">
                                            {qIndex + 1}. {question.text}
                                        </h3>
                                        <div className="space-y-3">
                                            {question.options.map((option) => (
                                                <label
                                                    key={option.value}
                                                    className={`flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all ${
                                                        answers[question.id] === option.value
                                                            ? 'border-emerald-600 bg-emerald-50'
                                                            : 'border-gray-200 hover:border-emerald-300 bg-white'
                                                    }`}
                                                >
                                                    <input
                                                        type="radio"
                                                        name={question.id}
                                                        value={option.value}
                                                        checked={answers[question.id] === option.value}
                                                        onChange={() => handleAnswer(question.id, option.value)}
                                                        className="mt-1 w-5 h-5 text-emerald-600 flex-shrink-0"
                                                    />
                                                    <span className="ml-3 text-gray-700">{option.label}</span>
                                                </label>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>

                            {/* Navigation */}
                            <div className="flex gap-4 mt-8">
                                <button
                                    onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}
                                    disabled={currentSection === 0}
                                    className={`px-6 py-3 rounded-lg font-semibold transition-colors ${
                                        currentSection === 0
                                            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                                            : 'bg-gray-600 text-white hover:bg-gray-700'
                                    }`}
                                >
                                    â† Anterior
                                </button>
                                
                                <button
                                    onClick={() => {
                                        if (currentSection < sections.length - 1) {
                                            setCurrentSection(currentSection + 1);
                                        } else {
                                            setShowResults(true);
                                            window.scrollTo(0, 0);
                                        }
                                    }}
                                    disabled={!allQuestionsAnswered}
                                    className={`flex-1 px-6 py-3 rounded-lg font-semibold transition-colors ${
                                        !allQuestionsAnswered
                                            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                                            : 'bg-emerald-600 text-white hover:bg-emerald-700'
                                    }`}
                                >
                                    {currentSection === sections.length - 1 ? 'Ver Meus Resultados âœ“' : 'PrÃ³xima â†’'}
                                </button>
                            </div>

                            {!allQuestionsAnswered && (
                                <p className="text-center text-sm text-amber-600 mt-4">
                                    âš ï¸ Responda todas as perguntas para continuar
                                </p>
                            )}
                        </div>

                        {/* Info Box */}
                        <div className="bg-white rounded-xl shadow-lg p-6">
                            <h3 className="font-semibold text-gray-800 mb-3">Por que este teste funciona?</h3>
                            <p className="text-sm text-gray-600 leading-relaxed mb-3">
                                Este diagnÃ³stico Ã© baseado em dÃ©cadas de pesquisa em Economia Comportamental por ganhadores 
                                do Nobel como Daniel Kahneman e Richard Thaler. Ele revela os vieses psicolÃ³gicos que 
                                fazem vocÃª gastar mais do que deveria e sabotar seus prÃ³prios objetivos.
                            </p>
                            <p className="text-xs text-gray-500 italic">
                                â±ï¸ Tempo estimado: 5-10 minutos â€¢ ðŸ”’ Suas respostas sÃ£o privadas e nÃ£o sÃ£o salvas
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<DiagnosticApp />, document.getElementById('app'));
    </script>
</body>
</html>

